import { e as createComponent, k as renderComponent, r as renderTemplate, m as maybeRenderHead } from '../chunks/astro/server_Bofzg8wA.mjs';
import { $ as $$Layout } from '../chunks/Layout_fzqVX3DA.mjs';
import { $ as $$Footer } from '../chunks/Footer_1L7ZuYVp.mjs';
/* empty css                                   */
export { renderers } from '../renderers.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Contact = createComponent(async ($$result, $$props, $$slots) => {
  return renderTemplate`${renderComponent($$result, "Layout", $$Layout, { "data-astro-cid-uw5kdbxl": true }, { "default": async ($$result2) => renderTemplate(_a || (_a = __template([" ", `<section class="form-hero" data-astro-cid-uw5kdbxl> <div class="form-hero-content" data-astro-cid-uw5kdbxl> <h1 class="form-title" data-astro-cid-uw5kdbxl>Let's Chat</h1> <p class="form-subtitle" data-astro-cid-uw5kdbxl>We'd love to hear from you. Get in touch with TechNest to discuss your smart technology needs and how we can help.</p> </div> </section> <section class="form-section" data-astro-cid-uw5kdbxl> <div class="form-container" data-astro-cid-uw5kdbxl> <form class="contact-form" onsubmit="return handleSubmit(event)" data-astro-cid-uw5kdbxl> <!-- Hidden metadata fields --> <input type="hidden" id="metadata-ip" name="metadata-ip" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-referrer" name="metadata-referrer" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-user-agent" name="metadata-user-agent" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-language" name="metadata-language" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-country" name="metadata-country" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-region" name="metadata-region" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-zip" name="metadata-zip" data-astro-cid-uw5kdbxl> <!-- Contact Information --> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="name" data-astro-cid-uw5kdbxl>Name <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <input type="text" id="name" name="name" required data-astro-cid-uw5kdbxl> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="email" data-astro-cid-uw5kdbxl>Email <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <input type="email" id="email" name="email" required data-astro-cid-uw5kdbxl> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="phone" data-astro-cid-uw5kdbxl>Phone <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <input type="tel" id="phone" name="phone" required data-astro-cid-uw5kdbxl> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <!-- Preferred Contact Method --> <fieldset class="form-group" data-astro-cid-uw5kdbxl> <legend data-astro-cid-uw5kdbxl>Preferred contact method</legend> <div class="checkbox-group inline shaded-group" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="contact-call" name="contact-call" data-astro-cid-uw5kdbxl> <label for="contact-call" data-astro-cid-uw5kdbxl>Call</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="contact-email" name="contact-email" data-astro-cid-uw5kdbxl> <label for="contact-email" data-astro-cid-uw5kdbxl>Email</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="contact-text" name="contact-text" data-astro-cid-uw5kdbxl> <label for="contact-text" data-astro-cid-uw5kdbxl>Text</label> </div> </div> </fieldset> <!-- Services Needed --> <fieldset class="form-group" data-astro-cid-uw5kdbxl> <legend data-astro-cid-uw5kdbxl>Services needed <span class="required" data-astro-cid-uw5kdbxl>*</span></legend> <div class="shaded-group" data-astro-cid-uw5kdbxl> <div class="services-section" data-astro-cid-uw5kdbxl> <div class="services-column" data-astro-cid-uw5kdbxl> <h3 class="services-subheading" data-astro-cid-uw5kdbxl>Standard Services</h3> <div class="checkbox-group" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-soundbar" name="service-soundbar" data-astro-cid-uw5kdbxl> <label for="service-soundbar" data-astro-cid-uw5kdbxl>Soundbar Setup</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-thermostat" name="service-thermostat" data-astro-cid-uw5kdbxl> <label for="service-thermostat" data-astro-cid-uw5kdbxl>Smart Thermostat Installation</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-tv-mount" name="service-tv-mount" data-astro-cid-uw5kdbxl> <label for="service-tv-mount" data-astro-cid-uw5kdbxl>TV Mounting</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-doorbell" name="service-doorbell" data-astro-cid-uw5kdbxl> <label for="service-doorbell" data-astro-cid-uw5kdbxl>Video Doorbell Installation</label> </div> </div> </div> <div class="services-column" data-astro-cid-uw5kdbxl> <h3 class="services-subheading" data-astro-cid-uw5kdbxl>Projects</h3> <div class="checkbox-group" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-theater" name="service-theater" data-astro-cid-uw5kdbxl> <label for="service-theater" data-astro-cid-uw5kdbxl>Home Theater Upgrade</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-network" name="service-network" data-astro-cid-uw5kdbxl> <label for="service-network" data-astro-cid-uw5kdbxl>Network/Wifi Upgrade</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-camera" name="service-camera" data-astro-cid-uw5kdbxl> <label for="service-camera" data-astro-cid-uw5kdbxl>Security Camera Installation</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-automation" name="service-automation" data-astro-cid-uw5kdbxl> <label for="service-automation" data-astro-cid-uw5kdbxl>Smart Home Automation</label> </div> </div> </div> </div> <div class="services-full-width" data-astro-cid-uw5kdbxl> <h3 class="services-subheading" data-astro-cid-uw5kdbxl>General Assistance</h3> <div class="checkbox-group inline" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-troubleshoot" name="service-troubleshoot" data-astro-cid-uw5kdbxl> <label for="service-troubleshoot" data-astro-cid-uw5kdbxl>Tech Troubleshooting</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-wifi-opt" name="service-wifi-opt" data-astro-cid-uw5kdbxl> <label for="service-wifi-opt" data-astro-cid-uw5kdbxl>Wifi Optimization</label> </div> </div> </div> </div> <div class="error-message" id="services-error" data-astro-cid-uw5kdbxl></div> </fieldset> <!-- Additional Notes --> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="notes" data-astro-cid-uw5kdbxl>Additional notes</label> <textarea id="notes" name="notes" rows="4" placeholder="Tell us anything else you'd like us to know..." data-astro-cid-uw5kdbxl></textarea> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <!-- Where did you hear about us --> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="hear-about" data-astro-cid-uw5kdbxl>Where did you hear about us?</label> <select id="hear-about" name="hear-about" data-astro-cid-uw5kdbxl> <option value="" data-astro-cid-uw5kdbxl>Select one...</option> <option value="social-media" data-astro-cid-uw5kdbxl>Social Media</option> <option value="word-of-mouth" data-astro-cid-uw5kdbxl>Word of Mouth</option> <option value="website" data-astro-cid-uw5kdbxl>Website</option> <option value="community-event" data-astro-cid-uw5kdbxl>Community Event</option> <option value="local-partner" data-astro-cid-uw5kdbxl>Local Partner</option> <option value="search-engine" data-astro-cid-uw5kdbxl>Search Engine</option> <option value="other" data-astro-cid-uw5kdbxl>Other</option> </select> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <!-- Privacy Policy Consent --> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="privacy-consent" name="privacy-consent" required data-astro-cid-uw5kdbxl> <label for="privacy-consent" data-astro-cid-uw5kdbxl>I agree to TechNest's <a href="/privacy-policy" data-astro-cid-uw5kdbxl>Privacy Policy</a> and understand my information will be used to respond to my inquiry. <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <button type="submit" class="submit-button" id="submit-button" data-astro-cid-uw5kdbxl>Send Message</button> </form> <!-- Modal for success/error messages --> <div id="form-modal" class="modal hidden" data-astro-cid-uw5kdbxl> <div class="modal-overlay" onclick="closeModal()" data-astro-cid-uw5kdbxl></div> <div class="modal-content" data-astro-cid-uw5kdbxl> <div class="modal-header" data-astro-cid-uw5kdbxl> <h2 id="modal-title" class="modal-title" data-astro-cid-uw5kdbxl></h2> <button type="button" class="modal-close" onclick="closeModal()" data-astro-cid-uw5kdbxl>\xD7</button> </div> <p id="modal-message" class="modal-message" data-astro-cid-uw5kdbxl></p> <button type="button" class="modal-button" onclick="closeModal()" data-astro-cid-uw5kdbxl>Close</button> </div> </div> </div> </section> `, "  <script>\n  // Form validation rules\n  const validationRules = {\n    'name': (value) => value.trim().length > 0,\n    'email': (value) => /^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(value),\n    'phone': (value) => {\n      const phoneRegex = /^(?:\\d{10}|\\d{3}-\\d{3}-\\d{4}|\\(\\d{3}\\)\\d{3}-\\d{4}|\\(\\d{3}\\) \\d{3}-\\d{4}|\\d{3}\\.\\d{3}\\.\\d{4}|\\d{3} \\d{3} \\d{4})$/;\n      return phoneRegex.test(value.replace(/\\s/g, ''));\n    },\n    'services': (value) => Array.isArray(value) ? value.length > 0 : (value && value.length > 0),\n    'privacy-consent': (checked) => checked,\n  };\n\n  function validateField(fieldName, value) {\n    const rule = validationRules[fieldName];\n    if (rule) {\n      return rule(value);\n    }\n    return true;\n  }\n\n  function clearFieldError(fieldName) {\n    const field = document.getElementById(fieldName);\n    if (field) {\n      const group = field.closest('.form-group');\n      if (group) {\n        group.classList.remove('error');\n        const errorMsg = group.querySelector('.error-message');\n        if (errorMsg) {\n          errorMsg.textContent = '';\n        }\n      }\n    }\n  }\n\n  function setFieldError(fieldName, message) {\n    const field = document.getElementById(fieldName);\n    if (field) {\n      const group = field.closest('.form-group');\n      if (group) {\n        group.classList.add('error');\n        let errorMsg = group.querySelector('.error-message');\n        if (!errorMsg) {\n          errorMsg = document.createElement('div');\n          errorMsg.className = 'error-message';\n          group.appendChild(errorMsg);\n        }\n        errorMsg.textContent = message;\n      }\n    }\n  }\n\n  function validateForm() {\n    let isValid = true;\n    \n    // Validate each field\n    const fields = [\n      'name',\n      'email',\n      'phone',\n      'services',\n      'privacy-consent'\n    ];\n\n    for (const fieldName of fields) {\n      const field = document.getElementById(fieldName);\n      if (!field) continue;\n\n      clearFieldError(fieldName);\n\n      let value = field.type === 'checkbox' ? field.checked : field.value;\n      \n      if (!validateField(fieldName, value)) {\n        isValid = false;\n        let errorMsg = '';\n        \n        switch (fieldName) {\n          case 'name':\n            errorMsg = 'Name is required';\n            break;\n          case 'email':\n            errorMsg = 'Please enter a valid email address with a domain (e.g., user@example.com)';\n            break;\n          case 'phone':\n            errorMsg = 'Please enter a valid phone number';\n            break;\n          case 'services':\n            errorMsg = 'Please select at least one service';\n            break;\n          case 'privacy-consent':\n            errorMsg = 'You must agree to the privacy policy';\n            break;\n        }\n        \n        setFieldError(fieldName, errorMsg);\n      }\n    }\n\n    return isValid;\n  }\n\n  function showModal(type, title, message) {\n    const modal = document.getElementById('form-modal');\n    const titleEl = document.getElementById('modal-title');\n    const messageEl = document.getElementById('modal-message');\n    const content = modal.querySelector('.modal-content');\n\n    titleEl.textContent = title;\n    messageEl.textContent = message;\n\n    content.classList.remove('success', 'error');\n    content.classList.add(type);\n\n    modal.classList.remove('hidden');\n  }\n\n  function closeModal() {\n    const modal = document.getElementById('form-modal');\n    modal.classList.add('hidden');\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    // Validate form\n    if (!validateForm()) {\n      showModal('error', 'Validation Error', 'Please fix the errors above and try again.');\n      return false;\n    }\n\n    const form = event.target;\n    const submitButton = document.getElementById('submit-button');\n    const originalText = submitButton.textContent;\n\n    try {\n      submitButton.disabled = true;\n      submitButton.textContent = 'Sending...';\n\n      // Collect form data\n      const formData = new FormData(form);\n      const rawPhone = formData.get('phone') || '';\n      const cleanPhone = rawPhone.replace(/\\D/g, ''); // Remove all non-numeric characters\n      \n      // Collect selected services from checkboxes\n      const serviceCheckboxes = [\n        'service-soundbar',\n        'service-thermostat',\n        'service-tv-mount',\n        'service-doorbell',\n        'service-theater',\n        'service-network',\n        'service-camera',\n        'service-automation',\n        'service-troubleshoot',\n        'service-wifi-opt'\n      ];\n      const selectedServices = serviceCheckboxes\n        .filter(id => document.getElementById(id)?.checked)\n        .map(id => {\n          const labels = {\n            'service-soundbar': 'Soundbar Setup',\n            'service-thermostat': 'Smart Thermostat Installation',\n            'service-tv-mount': 'TV Mounting',\n            'service-doorbell': 'Video Doorbell Installation',\n            'service-theater': 'Home Theater Upgrade',\n            'service-network': 'Network/Wifi Upgrade',\n            'service-camera': 'Security Camera Installation',\n            'service-automation': 'Smart Home Automation',\n            'service-troubleshoot': 'Tech Troubleshooting',\n            'service-wifi-opt': 'Wifi Optimization'\n          };\n          return labels[id];\n        })\n        .join(', ');\n      \n      // Collect contact preferences\n      const contactCall = formData.get('contact-call') === 'on';\n      const contactEmail = formData.get('contact-email') === 'on';\n      const contactText = formData.get('contact-text') === 'on';\n      \n      const data = {\n        name: formData.get('name'),\n        email: formData.get('email'),\n        phone: cleanPhone,\n        contactCall,\n        contactEmail,\n        contactText,\n        servicesNeeded: selectedServices,\n        additionalNotes: formData.get('notes') || '',\n        hearAbout: formData.get('hear-about') || '',\n        privacyConsent: formData.get('privacy-consent') === 'on',\n        submittedAt: new Date().toISOString(),\n        // Metadata\n        metadata: {\n          ipAddress: formData.get('metadata-ip') || '',\n          referrerUrl: formData.get('metadata-referrer') || '',\n          userAgent: formData.get('metadata-user-agent') || '',\n          acceptLanguage: formData.get('metadata-language') || '',\n          country: formData.get('metadata-country') || '',\n          region: formData.get('metadata-region') || '',\n          zipCode: formData.get('metadata-zip') || ''\n        }\n      };\n\n      // Submit to API\n      const response = await fetch('/api/submit-contact', {\n        method: 'POST',\n        mode: 'cors',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n      });\n\n      console.log('[v0] Response status:', response.status);\n      \n      // Handle empty response body (204 No Content)\n      let result;\n      if (response.status === 204) {\n        result = {};\n      } else {\n        try {\n          result = await response.json();\n        } catch (jsonError) {\n          console.error('[v0] Failed to parse response JSON:', jsonError);\n          result = { success: false, message: 'Invalid server response' };\n        }\n      }\n\n      if (response.ok && result.success) {\n        showModal('success', 'Success!', 'Thank you for reaching out! We will get back to you as soon as possible.');\n        form.reset();\n      } else {\n        showModal('error', 'Submission Error', result.message || 'There was an error submitting your message.');\n      }\n    } catch (error) {\n      console.error('[v0] Form submission error:', error);\n      showModal('error', 'Error', 'There was an error submitting your message. Please try again.');\n    } finally {\n      submitButton.disabled = false;\n      submitButton.textContent = originalText;\n    }\n\n    return false;\n  }\n\n  // Collect browser metadata\n  async function collectMetadata() {\n    try {\n      // Collect browser-available metadata\n      document.getElementById('metadata-referrer').value = document.referrer || '';\n      document.getElementById('metadata-user-agent').value = navigator.userAgent || '';\n      document.getElementById('metadata-language').value = navigator.language || '';\n\n      // Fetch geolocation data from IP (server-side will override this if needed)\n      try {\n        const geoResponse = await fetch('https://ipapi.co/json/');\n        if (geoResponse.ok) {\n          const geoData = await geoResponse.json();\n          document.getElementById('metadata-ip').value = geoData.ip || '';\n          document.getElementById('metadata-country').value = geoData.country_name || '';\n          document.getElementById('metadata-region').value = geoData.region || '';\n          document.getElementById('metadata-zip').value = geoData.postal || '';\n          console.log('[v0] Metadata collected successfully');\n        }\n      } catch (geoError) {\n        console.log('[v0] Could not fetch geolocation data:', geoError);\n        // Continue without geolocation - not critical\n      }\n    } catch (error) {\n      console.error('[v0] Error collecting metadata:', error);\n    }\n  }\n\n  // Add real-time validation listeners\n  document.addEventListener('DOMContentLoaded', () => {\n    // Collect metadata on page load\n    collectMetadata();\n\n    const form = document.querySelector('.contact-form');\n    if (form) {\n      form.addEventListener('change', (e) => {\n        if (e.target.id) {\n          clearFieldError(e.target.id);\n        }\n      });\n    }\n  });\n<\/script>"], [" ", `<section class="form-hero" data-astro-cid-uw5kdbxl> <div class="form-hero-content" data-astro-cid-uw5kdbxl> <h1 class="form-title" data-astro-cid-uw5kdbxl>Let's Chat</h1> <p class="form-subtitle" data-astro-cid-uw5kdbxl>We'd love to hear from you. Get in touch with TechNest to discuss your smart technology needs and how we can help.</p> </div> </section> <section class="form-section" data-astro-cid-uw5kdbxl> <div class="form-container" data-astro-cid-uw5kdbxl> <form class="contact-form" onsubmit="return handleSubmit(event)" data-astro-cid-uw5kdbxl> <!-- Hidden metadata fields --> <input type="hidden" id="metadata-ip" name="metadata-ip" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-referrer" name="metadata-referrer" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-user-agent" name="metadata-user-agent" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-language" name="metadata-language" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-country" name="metadata-country" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-region" name="metadata-region" data-astro-cid-uw5kdbxl> <input type="hidden" id="metadata-zip" name="metadata-zip" data-astro-cid-uw5kdbxl> <!-- Contact Information --> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="name" data-astro-cid-uw5kdbxl>Name <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <input type="text" id="name" name="name" required data-astro-cid-uw5kdbxl> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="email" data-astro-cid-uw5kdbxl>Email <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <input type="email" id="email" name="email" required data-astro-cid-uw5kdbxl> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="phone" data-astro-cid-uw5kdbxl>Phone <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <input type="tel" id="phone" name="phone" required data-astro-cid-uw5kdbxl> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <!-- Preferred Contact Method --> <fieldset class="form-group" data-astro-cid-uw5kdbxl> <legend data-astro-cid-uw5kdbxl>Preferred contact method</legend> <div class="checkbox-group inline shaded-group" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="contact-call" name="contact-call" data-astro-cid-uw5kdbxl> <label for="contact-call" data-astro-cid-uw5kdbxl>Call</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="contact-email" name="contact-email" data-astro-cid-uw5kdbxl> <label for="contact-email" data-astro-cid-uw5kdbxl>Email</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="contact-text" name="contact-text" data-astro-cid-uw5kdbxl> <label for="contact-text" data-astro-cid-uw5kdbxl>Text</label> </div> </div> </fieldset> <!-- Services Needed --> <fieldset class="form-group" data-astro-cid-uw5kdbxl> <legend data-astro-cid-uw5kdbxl>Services needed <span class="required" data-astro-cid-uw5kdbxl>*</span></legend> <div class="shaded-group" data-astro-cid-uw5kdbxl> <div class="services-section" data-astro-cid-uw5kdbxl> <div class="services-column" data-astro-cid-uw5kdbxl> <h3 class="services-subheading" data-astro-cid-uw5kdbxl>Standard Services</h3> <div class="checkbox-group" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-soundbar" name="service-soundbar" data-astro-cid-uw5kdbxl> <label for="service-soundbar" data-astro-cid-uw5kdbxl>Soundbar Setup</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-thermostat" name="service-thermostat" data-astro-cid-uw5kdbxl> <label for="service-thermostat" data-astro-cid-uw5kdbxl>Smart Thermostat Installation</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-tv-mount" name="service-tv-mount" data-astro-cid-uw5kdbxl> <label for="service-tv-mount" data-astro-cid-uw5kdbxl>TV Mounting</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-doorbell" name="service-doorbell" data-astro-cid-uw5kdbxl> <label for="service-doorbell" data-astro-cid-uw5kdbxl>Video Doorbell Installation</label> </div> </div> </div> <div class="services-column" data-astro-cid-uw5kdbxl> <h3 class="services-subheading" data-astro-cid-uw5kdbxl>Projects</h3> <div class="checkbox-group" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-theater" name="service-theater" data-astro-cid-uw5kdbxl> <label for="service-theater" data-astro-cid-uw5kdbxl>Home Theater Upgrade</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-network" name="service-network" data-astro-cid-uw5kdbxl> <label for="service-network" data-astro-cid-uw5kdbxl>Network/Wifi Upgrade</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-camera" name="service-camera" data-astro-cid-uw5kdbxl> <label for="service-camera" data-astro-cid-uw5kdbxl>Security Camera Installation</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-automation" name="service-automation" data-astro-cid-uw5kdbxl> <label for="service-automation" data-astro-cid-uw5kdbxl>Smart Home Automation</label> </div> </div> </div> </div> <div class="services-full-width" data-astro-cid-uw5kdbxl> <h3 class="services-subheading" data-astro-cid-uw5kdbxl>General Assistance</h3> <div class="checkbox-group inline" data-astro-cid-uw5kdbxl> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-troubleshoot" name="service-troubleshoot" data-astro-cid-uw5kdbxl> <label for="service-troubleshoot" data-astro-cid-uw5kdbxl>Tech Troubleshooting</label> </div> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="service-wifi-opt" name="service-wifi-opt" data-astro-cid-uw5kdbxl> <label for="service-wifi-opt" data-astro-cid-uw5kdbxl>Wifi Optimization</label> </div> </div> </div> </div> <div class="error-message" id="services-error" data-astro-cid-uw5kdbxl></div> </fieldset> <!-- Additional Notes --> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="notes" data-astro-cid-uw5kdbxl>Additional notes</label> <textarea id="notes" name="notes" rows="4" placeholder="Tell us anything else you'd like us to know..." data-astro-cid-uw5kdbxl></textarea> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <!-- Where did you hear about us --> <div class="form-group" data-astro-cid-uw5kdbxl> <label for="hear-about" data-astro-cid-uw5kdbxl>Where did you hear about us?</label> <select id="hear-about" name="hear-about" data-astro-cid-uw5kdbxl> <option value="" data-astro-cid-uw5kdbxl>Select one...</option> <option value="social-media" data-astro-cid-uw5kdbxl>Social Media</option> <option value="word-of-mouth" data-astro-cid-uw5kdbxl>Word of Mouth</option> <option value="website" data-astro-cid-uw5kdbxl>Website</option> <option value="community-event" data-astro-cid-uw5kdbxl>Community Event</option> <option value="local-partner" data-astro-cid-uw5kdbxl>Local Partner</option> <option value="search-engine" data-astro-cid-uw5kdbxl>Search Engine</option> <option value="other" data-astro-cid-uw5kdbxl>Other</option> </select> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <!-- Privacy Policy Consent --> <div class="form-group checkbox" data-astro-cid-uw5kdbxl> <input type="checkbox" id="privacy-consent" name="privacy-consent" required data-astro-cid-uw5kdbxl> <label for="privacy-consent" data-astro-cid-uw5kdbxl>I agree to TechNest's <a href="/privacy-policy" data-astro-cid-uw5kdbxl>Privacy Policy</a> and understand my information will be used to respond to my inquiry. <span class="required" data-astro-cid-uw5kdbxl>*</span></label> <div class="error-message" data-astro-cid-uw5kdbxl></div> </div> <button type="submit" class="submit-button" id="submit-button" data-astro-cid-uw5kdbxl>Send Message</button> </form> <!-- Modal for success/error messages --> <div id="form-modal" class="modal hidden" data-astro-cid-uw5kdbxl> <div class="modal-overlay" onclick="closeModal()" data-astro-cid-uw5kdbxl></div> <div class="modal-content" data-astro-cid-uw5kdbxl> <div class="modal-header" data-astro-cid-uw5kdbxl> <h2 id="modal-title" class="modal-title" data-astro-cid-uw5kdbxl></h2> <button type="button" class="modal-close" onclick="closeModal()" data-astro-cid-uw5kdbxl>\xD7</button> </div> <p id="modal-message" class="modal-message" data-astro-cid-uw5kdbxl></p> <button type="button" class="modal-button" onclick="closeModal()" data-astro-cid-uw5kdbxl>Close</button> </div> </div> </div> </section> `, "  <script>\n  // Form validation rules\n  const validationRules = {\n    'name': (value) => value.trim().length > 0,\n    'email': (value) => /^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$/.test(value),\n    'phone': (value) => {\n      const phoneRegex = /^(?:\\\\d{10}|\\\\d{3}-\\\\d{3}-\\\\d{4}|\\\\(\\\\d{3}\\\\)\\\\d{3}-\\\\d{4}|\\\\(\\\\d{3}\\\\) \\\\d{3}-\\\\d{4}|\\\\d{3}\\\\.\\\\d{3}\\\\.\\\\d{4}|\\\\d{3} \\\\d{3} \\\\d{4})$/;\n      return phoneRegex.test(value.replace(/\\\\s/g, ''));\n    },\n    'services': (value) => Array.isArray(value) ? value.length > 0 : (value && value.length > 0),\n    'privacy-consent': (checked) => checked,\n  };\n\n  function validateField(fieldName, value) {\n    const rule = validationRules[fieldName];\n    if (rule) {\n      return rule(value);\n    }\n    return true;\n  }\n\n  function clearFieldError(fieldName) {\n    const field = document.getElementById(fieldName);\n    if (field) {\n      const group = field.closest('.form-group');\n      if (group) {\n        group.classList.remove('error');\n        const errorMsg = group.querySelector('.error-message');\n        if (errorMsg) {\n          errorMsg.textContent = '';\n        }\n      }\n    }\n  }\n\n  function setFieldError(fieldName, message) {\n    const field = document.getElementById(fieldName);\n    if (field) {\n      const group = field.closest('.form-group');\n      if (group) {\n        group.classList.add('error');\n        let errorMsg = group.querySelector('.error-message');\n        if (!errorMsg) {\n          errorMsg = document.createElement('div');\n          errorMsg.className = 'error-message';\n          group.appendChild(errorMsg);\n        }\n        errorMsg.textContent = message;\n      }\n    }\n  }\n\n  function validateForm() {\n    let isValid = true;\n    \n    // Validate each field\n    const fields = [\n      'name',\n      'email',\n      'phone',\n      'services',\n      'privacy-consent'\n    ];\n\n    for (const fieldName of fields) {\n      const field = document.getElementById(fieldName);\n      if (!field) continue;\n\n      clearFieldError(fieldName);\n\n      let value = field.type === 'checkbox' ? field.checked : field.value;\n      \n      if (!validateField(fieldName, value)) {\n        isValid = false;\n        let errorMsg = '';\n        \n        switch (fieldName) {\n          case 'name':\n            errorMsg = 'Name is required';\n            break;\n          case 'email':\n            errorMsg = 'Please enter a valid email address with a domain (e.g., user@example.com)';\n            break;\n          case 'phone':\n            errorMsg = 'Please enter a valid phone number';\n            break;\n          case 'services':\n            errorMsg = 'Please select at least one service';\n            break;\n          case 'privacy-consent':\n            errorMsg = 'You must agree to the privacy policy';\n            break;\n        }\n        \n        setFieldError(fieldName, errorMsg);\n      }\n    }\n\n    return isValid;\n  }\n\n  function showModal(type, title, message) {\n    const modal = document.getElementById('form-modal');\n    const titleEl = document.getElementById('modal-title');\n    const messageEl = document.getElementById('modal-message');\n    const content = modal.querySelector('.modal-content');\n\n    titleEl.textContent = title;\n    messageEl.textContent = message;\n\n    content.classList.remove('success', 'error');\n    content.classList.add(type);\n\n    modal.classList.remove('hidden');\n  }\n\n  function closeModal() {\n    const modal = document.getElementById('form-modal');\n    modal.classList.add('hidden');\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    // Validate form\n    if (!validateForm()) {\n      showModal('error', 'Validation Error', 'Please fix the errors above and try again.');\n      return false;\n    }\n\n    const form = event.target;\n    const submitButton = document.getElementById('submit-button');\n    const originalText = submitButton.textContent;\n\n    try {\n      submitButton.disabled = true;\n      submitButton.textContent = 'Sending...';\n\n      // Collect form data\n      const formData = new FormData(form);\n      const rawPhone = formData.get('phone') || '';\n      const cleanPhone = rawPhone.replace(/\\\\D/g, ''); // Remove all non-numeric characters\n      \n      // Collect selected services from checkboxes\n      const serviceCheckboxes = [\n        'service-soundbar',\n        'service-thermostat',\n        'service-tv-mount',\n        'service-doorbell',\n        'service-theater',\n        'service-network',\n        'service-camera',\n        'service-automation',\n        'service-troubleshoot',\n        'service-wifi-opt'\n      ];\n      const selectedServices = serviceCheckboxes\n        .filter(id => document.getElementById(id)?.checked)\n        .map(id => {\n          const labels = {\n            'service-soundbar': 'Soundbar Setup',\n            'service-thermostat': 'Smart Thermostat Installation',\n            'service-tv-mount': 'TV Mounting',\n            'service-doorbell': 'Video Doorbell Installation',\n            'service-theater': 'Home Theater Upgrade',\n            'service-network': 'Network/Wifi Upgrade',\n            'service-camera': 'Security Camera Installation',\n            'service-automation': 'Smart Home Automation',\n            'service-troubleshoot': 'Tech Troubleshooting',\n            'service-wifi-opt': 'Wifi Optimization'\n          };\n          return labels[id];\n        })\n        .join(', ');\n      \n      // Collect contact preferences\n      const contactCall = formData.get('contact-call') === 'on';\n      const contactEmail = formData.get('contact-email') === 'on';\n      const contactText = formData.get('contact-text') === 'on';\n      \n      const data = {\n        name: formData.get('name'),\n        email: formData.get('email'),\n        phone: cleanPhone,\n        contactCall,\n        contactEmail,\n        contactText,\n        servicesNeeded: selectedServices,\n        additionalNotes: formData.get('notes') || '',\n        hearAbout: formData.get('hear-about') || '',\n        privacyConsent: formData.get('privacy-consent') === 'on',\n        submittedAt: new Date().toISOString(),\n        // Metadata\n        metadata: {\n          ipAddress: formData.get('metadata-ip') || '',\n          referrerUrl: formData.get('metadata-referrer') || '',\n          userAgent: formData.get('metadata-user-agent') || '',\n          acceptLanguage: formData.get('metadata-language') || '',\n          country: formData.get('metadata-country') || '',\n          region: formData.get('metadata-region') || '',\n          zipCode: formData.get('metadata-zip') || ''\n        }\n      };\n\n      // Submit to API\n      const response = await fetch('/api/submit-contact', {\n        method: 'POST',\n        mode: 'cors',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n      });\n\n      console.log('[v0] Response status:', response.status);\n      \n      // Handle empty response body (204 No Content)\n      let result;\n      if (response.status === 204) {\n        result = {};\n      } else {\n        try {\n          result = await response.json();\n        } catch (jsonError) {\n          console.error('[v0] Failed to parse response JSON:', jsonError);\n          result = { success: false, message: 'Invalid server response' };\n        }\n      }\n\n      if (response.ok && result.success) {\n        showModal('success', 'Success!', 'Thank you for reaching out! We will get back to you as soon as possible.');\n        form.reset();\n      } else {\n        showModal('error', 'Submission Error', result.message || 'There was an error submitting your message.');\n      }\n    } catch (error) {\n      console.error('[v0] Form submission error:', error);\n      showModal('error', 'Error', 'There was an error submitting your message. Please try again.');\n    } finally {\n      submitButton.disabled = false;\n      submitButton.textContent = originalText;\n    }\n\n    return false;\n  }\n\n  // Collect browser metadata\n  async function collectMetadata() {\n    try {\n      // Collect browser-available metadata\n      document.getElementById('metadata-referrer').value = document.referrer || '';\n      document.getElementById('metadata-user-agent').value = navigator.userAgent || '';\n      document.getElementById('metadata-language').value = navigator.language || '';\n\n      // Fetch geolocation data from IP (server-side will override this if needed)\n      try {\n        const geoResponse = await fetch('https://ipapi.co/json/');\n        if (geoResponse.ok) {\n          const geoData = await geoResponse.json();\n          document.getElementById('metadata-ip').value = geoData.ip || '';\n          document.getElementById('metadata-country').value = geoData.country_name || '';\n          document.getElementById('metadata-region').value = geoData.region || '';\n          document.getElementById('metadata-zip').value = geoData.postal || '';\n          console.log('[v0] Metadata collected successfully');\n        }\n      } catch (geoError) {\n        console.log('[v0] Could not fetch geolocation data:', geoError);\n        // Continue without geolocation - not critical\n      }\n    } catch (error) {\n      console.error('[v0] Error collecting metadata:', error);\n    }\n  }\n\n  // Add real-time validation listeners\n  document.addEventListener('DOMContentLoaded', () => {\n    // Collect metadata on page load\n    collectMetadata();\n\n    const form = document.querySelector('.contact-form');\n    if (form) {\n      form.addEventListener('change', (e) => {\n        if (e.target.id) {\n          clearFieldError(e.target.id);\n        }\n      });\n    }\n  });\n<\/script>"])), maybeRenderHead(), renderComponent($$result2, "Footer", $$Footer, { "data-astro-cid-uw5kdbxl": true })) })}`;
}, "C:/TechNest/Website GitHub/src/pages/contact.astro", void 0);

const $$file = "C:/TechNest/Website GitHub/src/pages/contact.astro";
const $$url = "/contact";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Contact,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
